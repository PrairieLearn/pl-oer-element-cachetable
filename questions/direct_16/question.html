<pl-question-panel>
  <h2>Example Cache Table</h2>
  <p>This example combines the <code>pl-cache-table</code> and <code>pl-cache-access-table</code> elements. This question primarily uses <code>cache_tables.py</code> in <code>serverFilesCourse</code> to generate the contents of the cache. This problem generates a custom sequence of accesses and sends to <code>cache_tables.py</code> using <code>address_list</code>. This question also hides the data in the cache (<code>show-data=false</code> </p>
  <pl-hidden-hints>
   <pl-hint hint-name="Cache Formulas">
   <pl-template directory="clientFilesQuestion" file-name="direct_mapped_formulas.html" log-tag-warnings="false"></pl-template>
   </pl-hint>
 </pl-hidden-hints>
<p>The table shows the initial state of a <b>{{params.cache_size}}B</b>, direct mapped cache that has <b>{{params.cache_sets}} sets</b> and <b>{{params.block_size}} Bytes</b> per cache block. The data in the offsets are not shown. You can use the "reset cache" button to return the cache to its initial state for this problem.</p>

</pl-question-panel>

<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <pl-cache-table 
            answers-name="{{params.answers_name}}"
            set-bits = "{{params.set_bits}}"
            num-ways = "{{params.num_ways}}"
            block-bits = "{{params.block_bits}}"
            weight = "3"
            display-base = "{{params.display_base}}"
            show-valid = "{{params.show_valid}}"
            show-data = "false"
            grade-mode = "cells"
      ></pl-cache-table>
    </div>
    </pl-question-panel>
    <div class="col-sm-8">
      <pl-question-panel>
        <p>Suppose a program accesses the following series of addresses, where the top-most address is accessed first. Indicate whether each access is a hit or miss. </p>
      </pl-question-panel>

      <pl-cache-access-table answers-name="{{params.answers_name}}_access"></pl-cache-access-table>
      <pl-question-panel>
        <div class="d-flex justify-content-center"><pl-hex-calculator></pl-hex-calculator></div>
      </pl-question-panel>
      <pl-answer-panel>
      <div class="d-flex justify-content-center">
      <table class="cache-table table table-hover table-striped table-condensed overflow-hidden" border="1">
        <caption style="caption-side: top">Tag/Index for each access</caption>
        <thead>
          <tr><th>Access</th><th>Tag</th><th>Index</th></tr>
        </thead>
        <tbody>
          {{#params.tio_sequence}}
          <tr>
            <td>{{access}}</td><td>{{{tag}}}</td><td>{{{index}}}</td>
          </tr>
          {{/params.tio_sequence}}
        </tbody>
      </table>
      </div>
      </pl-answer-panel>
    </div>
  </div>
</div>
